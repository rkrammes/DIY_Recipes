export * from './database';
export * from './edge-functions';
export * from './mcp-rpc';
import { mcpManifest, mcpConfig } from '../config';
/**
 * Handle MCP manifest request
 * This is a required route for MCP protocol compliance
 */
export const handleManifest = (req, res) => {
    res.status(200).json(mcpManifest);
};
/**
 * Handle API key validation
 */
export const validateApiKey = (req, res, next) => {
    const apiKey = req.headers['x-api-key'];
    if (!apiKey || apiKey !== mcpConfig.apiKey) {
        return res.status(401).json({ error: 'Unauthorized: Invalid API key' });
    }
    next();
};
/**
 * Handle health check request
 */
export const handleHealthCheck = (req, res) => {
    res.status(200).json({ status: 'ok', message: 'Supabase MCP server is running' });
};
